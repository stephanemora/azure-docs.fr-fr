---
title: Comparer les fonctionnalités du moteur de base de données de SQL Database et SQL Managed Instance
titleSuffix: Azure SQL Database & SQL Managed Instance
description: Cet article compare les fonctionnalités du moteur de base de données de Azure SQL Database et Azure SQL Managed Instance
services: sql-database
ms.service: sql-db-mi
ms.subservice: features
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: jovanpop-msft
ms.author: jovanpop
ms.reviewer: bonova, sstein
ms.date: 07/22/2020
ms.openlocfilehash: 30107c99f16b1b2f7c91ce8a662f44a041410d01
ms.sourcegitcommit: b8702065338fc1ed81bfed082650b5b58234a702
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/11/2020
ms.locfileid: "88119349"
---
# <a name="features-comparison-azure-sql-database-and-azure-sql-managed-instance"></a>Comparaison des fonctionnalités : Azure SQL Database et Azure SQL Managed Instance

[!INCLUDE[appliesto-sqldb-sqlmi](../includes/appliesto-sqldb-sqlmi.md)]

Azure SQL Database et SQL Managed Instance partagent une base de code commune avec la dernière version stable de SQL Server. La plupart des fonctionnalités standard du langage SQL, du traitement des requêtes et de la gestion des bases de données sont identiques. Les fonctionnalités communes à SQL Server et SQL Database ou SQL Managed Instance sont les suivantes :

- Fonctionnalités de langage : [Mots clés du langage de contrôle de flux ](https://docs.microsoft.com/sql/t-sql/language-elements/control-of-flow), [Curseurs](https://docs.microsoft.com/sql/t-sql/language-elements/cursors-transact-sql), [Types de données](https://docs.microsoft.com/sql/t-sql/data-types/data-types-transact-sql), [Instructions DML](https://docs.microsoft.com/sql/t-sql/queries/queries), [Prédicats](https://docs.microsoft.com/sql/t-sql/queries/predicates), [Numéros séquentiels](https://docs.microsoft.com/sql/relational-databases/sequence-numbers/sequence-numbers), [Procédures stockées](https://docs.microsoft.com/sql/relational-databases/stored-procedures/stored-procedures-database-engine) et [Variables](https://docs.microsoft.com/sql/t-sql/language-elements/variables-transact-sql).
- Fonctionnalités de base de données : [Réglage automatique (plan forcé)](https://docs.microsoft.com/sql/relational-databases/automatic-tuning/automatic-tuning), [Suivi des modifications](https://docs.microsoft.com/sql/relational-databases/track-changes/about-change-tracking-sql-server), [Classement de base de données](https://docs.microsoft.com/sql/relational-databases/collations/set-or-change-the-database-collation), [Bases de données autonomes](https://docs.microsoft.com/sql/relational-databases/databases/contained-databases), [Utilisateurs de base de données autonome](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), [Compression de données](https://docs.microsoft.com/sql/relational-databases/data-compression/data-compression), [Paramètres de configuration de base de données](https://docs.microsoft.com/sql/t-sql/statements/alter-database-scoped-configuration-transact-sql), [Opérations en ligne sur les index](https://docs.microsoft.com/sql/relational-databases/indexes/perform-index-operations-online), [Partitionnement](https://docs.microsoft.com/sql/relational-databases/partitions/partitioned-tables-and-indexes) et [Tables temporelles](https://docs.microsoft.com/sql/relational-databases/tables/temporal-tables) ([voir le guide de démarrage](../temporal-tables.md)).
- Fonctionnalités de sécurité : [Rôles d’application](https://docs.microsoft.com/sql/relational-databases/security/authentication-access/application-roles), [Masquage de données dynamique](https://docs.microsoft.com/sql/relational-databases/security/dynamic-data-masking) ([voir le guide de démarrage](dynamic-data-masking-overview.md)), [Sécurité au niveau des lignes](https://docs.microsoft.com/sql/relational-databases/security/row-level-security) et Détection des menaces (voir les guides de démarrage pour [SQL Database](threat-detection-configure.md) et [SQL Managed Instance](../managed-instance/threat-detection-configure.md)).
- Fonctionnalités multi-modèles : [Traitement des graphes](https://docs.microsoft.com/sql/relational-databases/graphs/sql-graph-overview), [Données JSON](https://docs.microsoft.com/sql/relational-databases/json/json-data-sql-server) ([voir le guide de démarrage rapide](json-features.md)), [OPENXML](https://docs.microsoft.com/sql/t-sql/functions/openxml-transact-sql), [Données spatiales](https://docs.microsoft.com/sql/relational-databases/spatial/spatial-data-sql-server), [OPENJSON](https://docs.microsoft.com/sql/t-sql/functions/openjson-transact-sql) et [Index XML](https://docs.microsoft.com/sql/t-sql/statements/create-xml-index-transact-sql).

Azure gère vos bases de données et garantit leur haute disponibilité. Certaines fonctionnalités susceptibles d’affecter la haute disponibilité ou qui ne peuvent pas être utilisées dans un environnement PaaS sont limitées dans SQL Database et SQL Managed Instance. Ces fonctionnalités sont décrites dans les tableaux ci-dessous. Si vous avez besoin de plus de détails sur les différences, vous pouvez les trouver dans les pages séparées pour [Azure SQL Database](../managed-instance/transact-sql-tsql-differences-sql-server.md) ou [Azure SQL Managed Instance](../managed-instance/transact-sql-tsql-differences-sql-server.md).

## <a name="features-of-sql-database-and-sql-managed-instance"></a>Fonctionnalités de SQL Database et SQL Managed Instance

Le tableau suivant répertorie les principales fonctionnalités de SQL Server et indique si la fonctionnalité est partiellement ou entièrement prise en charge dans Azure SQL Database et Azure SQL Managed Instance, avec un lien vers des informations supplémentaires sur la fonctionnalité.

| **Fonctionnalité** | **Azure SQL Database** | **Azure SQL Managed Instance** |
| --- | --- | --- |
| [Always Encrypted](https://docs.microsoft.com/sql/relational-databases/security/encryption/always-encrypted-database-engine) | Oui - voir [Magasin de certificats](always-encrypted-certificate-store-configure.md) et [Coffre de clés](always-encrypted-azure-key-vault-configure.md) | Oui - voir [Magasin de certificats](always-encrypted-certificate-store-configure.md) et [Coffre de clés](always-encrypted-azure-key-vault-configure.md) |
| [Groupes de disponibilité AlwaysOn](https://docs.microsoft.com/sql/database-engine/availability-groups/windows/always-on-availability-groups-sql-server) | [Une disponibilité à 99,99-99,995 %](high-availability-sla.md) est garantie pour chaque base de données. La reprise d’activité après sinistre est abordée dans [Vue d’ensemble de la continuité de l’activité avec Azure SQL Database](business-continuity-high-availability-disaster-recover-hadr-overview.md) | Une [disponibilité à 99,99 %](high-availability-sla.md) est garantie pour chaque base de données. [L’utilisateur ne peut pas la gérer](../managed-instance/transact-sql-tsql-differences-sql-server.md#availability). La reprise d’activité après sinistre est abordée dans [Vue d’ensemble de la continuité de l’activité avec Azure SQL Database](business-continuity-high-availability-disaster-recover-hadr-overview.md). Utilisez des [groupes de basculement automatique](auto-failover-group-overview.md) pour configurer une instance gérée SQL secondaire dans une autre région. Les instances SQL Server et SQL Database ne peuvent pas être utilisées en tant qu’instances secondaires pour SQL Managed Instance. |
| [Attacher une base de données](https://docs.microsoft.com/sql/relational-databases/databases/attach-a-database) | Non | Non |
| [Audit](https://docs.microsoft.com/sql/relational-databases/security/auditing/sql-server-audit-database-engine) | [Oui](auditing-overview.md)| [Oui](../managed-instance/auditing-configure.md), à quelques [différences](../managed-instance/transact-sql-tsql-differences-sql-server.md#auditing) près |
| [Authentification Azure Active Directory (Azure AD)](authentication-aad-overview.md) | Oui. Utilisateurs Azure AD uniquement. | Oui. Inclut les connexions Azure AD au niveau du serveur. |
| [Commande de sauvegarde](https://docs.microsoft.com/sql/t-sql/statements/backup-transact-sql) | Non, uniquement les sauvegardes automatiques générées par le système - voir [Sauvegardes automatiques](automated-backups-overview.md) | Oui, sauvegardes de copie uniquement initiées par l’utilisateur vers le stockage Blob Azure (les sauvegardes automatiques du système ne peuvent pas être initiées par l’utilisateur) - voir [Différences entres sauvegardes](../managed-instance/transact-sql-tsql-differences-sql-server.md#backup) |
| [Fonctions intégrées](https://docs.microsoft.com/sql/t-sql/functions/functions) | La plupart - voir Fonctions individuelles | Oui - voir [Procédures stockées, déclencheurs et fonctions définies par l’utilisateur](../managed-instance/transact-sql-tsql-differences-sql-server.md#stored-procedures-functions-and-triggers) |
| [Instruction BULK INSERT](https://docs.microsoft.com/sql/relational-databases/import-export/import-bulk-data-by-using-bulk-insert-or-openrowset-bulk-sql-server) | Oui, mais uniquement à partir de Stockage Blob Azure en tant que source. | Oui, mais uniquement à partir de Stockage Blob Azure en tant que source - voir [Différences](../managed-instance/transact-sql-tsql-differences-sql-server.md#bulk-insert--openrowset). |
| [Certificats et clés asymétriques](https://docs.microsoft.com/sql/relational-databases/security/sql-server-certificates-and-asymmetric-keys) | Oui, sans accès au système de fichiers pour les opérations `BACKUP` et `CREATE`. | Oui, sans accès au système de fichiers pour les opérations `BACKUP` et `CREATE` - Voir [Différences entre certificats](../managed-instance/transact-sql-tsql-differences-sql-server.md#certificates). |
| [Modifier la capture de données – CDC ](https://docs.microsoft.com/sql/relational-databases/track-changes/about-change-data-capture-sql-server) | Non | Oui |
| [Classement - serveur/instance](https://docs.microsoft.com/sql/relational-databases/collations/set-or-change-the-server-collation) | Non, par défaut, le classement du serveur `SQL_Latin1_General_CP1_CI_AS` est toujours utilisé. | Oui, peut être défini lorsque l’[instance est créée](../managed-instance/scripts/create-powershell-azure-resource-manager-template.md), mais pas mis à jour ultérieurement. |
| [Index Columnstore](https://docs.microsoft.com/sql/relational-databases/indexes/columnstore-indexes-overview) | Oui - [niveau Premium, niveau Standard - S3 et supérieur, niveau Usage général, et niveaux Critique pour l’entreprise et HyperScale](https://docs.microsoft.com/sql/relational-databases/indexes/columnstore-indexes-overview) |Oui |
| [Common Language Runtime – CLR](https://docs.microsoft.com/sql/relational-databases/clr-integration/common-language-runtime-clr-integration-programming-concepts) | Non | Oui, mais sans accès au système de fichiers dans l'instruction `CREATE ASSEMBLY` - Voir [Différences entre CLR](../managed-instance/transact-sql-tsql-differences-sql-server.md#clr) |
| [Informations d'identification](https://docs.microsoft.com/sql/relational-databases/security/authentication-access/credentials-database-engine) | Oui, mais les [informations d’identification de la base de données](https://docs.microsoft.com/sql/t-sql/statements/create-database-scoped-credential-transact-sql) uniquement. | Oui, mais seuls **Azure Key Vault** et `SHARED ACCESS SIGNATURE` sont pris en charge - voir [Détails](../managed-instance/transact-sql-tsql-differences-sql-server.md#credential) |
| [Requêtes de noms entre plusieurs bases de données/en trois parties](https://docs.microsoft.com/sql/relational-databases/linked-servers/linked-servers-database-engine) | Non - voir [Requêtes élastiques](elastic-query-overview.md) | Oui, plus [Requêtes élastiques](elastic-query-overview.md) |
| [Transactions entre bases de données](https://docs.microsoft.com/sql/relational-databases/linked-servers/linked-servers-database-engine) | Non | Oui, dans l’instance. Voir [Différences entre serveurs liés](../managed-instance/transact-sql-tsql-differences-sql-server.md#linked-servers) pour les requêtes entre instances. |
| [Database mail – DbMail](https://docs.microsoft.com/sql/relational-databases/database-mail/database-mail) | Non | Oui |
| [Mise en miroir de bases de données](https://docs.microsoft.com/sql/database-engine/database-mirroring/database-mirroring-sql-server) | Non | [Non](../managed-instance/transact-sql-tsql-differences-sql-server.md#database-mirroring) |
| [Instantanés de base de données](https://docs.microsoft.com/sql/relational-databases/databases/database-snapshots-sql-server) | Non | Non |
| [Instructions DBCC](https://docs.microsoft.com/sql/t-sql/database-console-commands/dbcc-transact-sql) | La plupart - voir Instructions individuelles | Oui - voir [Différences DBCC](../managed-instance/transact-sql-tsql-differences-sql-server.md#dbcc) |
| [Instructions DDL](https://docs.microsoft.com/sql/t-sql/statements/statements) | La plupart - voir Instructions individuelles | Oui - voir [Différences de T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md) |
| [Déclencheurs DDL](https://docs.microsoft.com/sql/relational-databases/triggers/ddl-triggers) | Base de données uniquement |  Oui |
| [Vues partitionnées distribuées](https://docs.microsoft.com/sql/t-sql/statements/create-view-transact-sql#partitioned-views) | Non | Oui |
| [Transactions distribuées - MS DTC](https://docs.microsoft.com/sql/relational-databases/native-client-ole-db-transactions/supporting-distributed-transactions) | Non - voir [Transactions élastiques](elastic-transactions-overview.md) |  Non - voir [Différences entre serveurs liés](../managed-instance/transact-sql-tsql-differences-sql-server.md#linked-servers) Essayez de consolider des bases de données de plusieurs instances SQL Server distribuées dans une seule instance gérée SQL pendant une migration. |
| [Déclencheurs DML](https://docs.microsoft.com/sql/relational-databases/triggers/create-dml-triggers) | La plupart - voir Instructions individuelles |  Oui |
| [DMV](https://docs.microsoft.com/sql/relational-databases/system-dynamic-management-views/system-dynamic-management-views) | La plupart - voir DMV individuels |  Oui - voir [Différences de T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md) |
| [Notifications d’événement](https://docs.microsoft.com/sql/relational-databases/service-broker/event-notifications) | Non - voir [Alertes](alerts-insights-configure-portal.md) | Non |
| [Expressions](https://docs.microsoft.com/sql/t-sql/language-elements/expressions-transact-sql) |Oui | Oui |
| [Événements étendus (XEvent)](https://docs.microsoft.com/sql/relational-databases/extended-events/extended-events) | Certains - voir [Événements étendus dans SQL Database](xevent-db-diff-from-svr.md) | Oui - voir [Différences des événements étendus](../managed-instance/transact-sql-tsql-differences-sql-server.md#extended-events) |
| [Procédures stockées étendues](https://docs.microsoft.com/sql/relational-databases/extended-stored-procedures-programming/creating-extended-stored-procedures) | Non | Non |
| [Fichiers et groupes de fichiers](https://docs.microsoft.com/sql/relational-databases/databases/database-files-and-filegroups) | Groupe de fichiers principal uniquement | Oui. Les chemins d’accès sont automatiquement attribués et l’emplacement du fichier ne peut pas être spécifié dans `ALTER DATABASE ADD FILE`[l’instruction](../managed-instance/transact-sql-tsql-differences-sql-server.md#alter-database-statement).  |
| [FileStream](https://docs.microsoft.com/sql/relational-databases/blob/filestream-sql-server) | Non | [Non](../managed-instance/transact-sql-tsql-differences-sql-server.md#filestream-and-filetable) |
| [Recherche en texte intégral (FTS)](https://docs.microsoft.com/sql/relational-databases/search/full-text-search) |  Oui, mais les analyseurs lexicaux tiers ne sont pas pris en charge | Oui, mais [les analyseurs lexicaux tiers ne sont pas pris en charge](../managed-instance/transact-sql-tsql-differences-sql-server.md#full-text-semantic-search) |
| [Fonctions](https://docs.microsoft.com/sql/t-sql/functions/functions) | La plupart - voir Fonctions individuelles | Oui - voir [Procédures stockées, déclencheurs et fonctions définies par l’utilisateur](../managed-instance/transact-sql-tsql-differences-sql-server.md#stored-procedures-functions-and-triggers) |
| [Optimisation en mémoire](https://docs.microsoft.com/sql/relational-databases/in-memory-oltp/in-memory-oltp-in-memory-optimization) | Oui. Prise en charge limitée des [niveaux Premium et Critique pour l'entreprise uniquement](../in-memory-oltp-overview.md) pour des objets en mémoire non persistants tels que les types de table | Oui - [niveau Critique pour entreprise uniquement](../managed-instance/sql-managed-instance-paas-overview.md) |
| [Éléments de langage](https://docs.microsoft.com/sql/t-sql/language-elements/language-elements-transact-sql) | La plupart - voir Éléments individuels |  Oui - voir [Différences de T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md) |
| [Serveurs liés](https://docs.microsoft.com/sql/relational-databases/linked-servers/linked-servers-database-engine) | Non - voir [Requête élastique](elastic-query-horizontal-partitioning.md) | Oui. Uniquement pour [SQL Server et SQL Database](../managed-instance/transact-sql-tsql-differences-sql-server.md#linked-servers) sans transactions distribuées. |
| [Serveurs liés](https://docs.microsoft.com/sql/relational-databases/linked-servers/linked-servers-database-engine) qui lisent à partir de fichiers (CSV, Excel)| Non. Utilisez [BULK INSERT](https://docs.microsoft.com/sql/t-sql/statements/bulk-insert-transact-sql#e-importing-data-from-a-csv-file) ou [OPENROWSET](https://docs.microsoft.com/sql/t-sql/functions/openrowset-transact-sql#g-accessing-data-from-a-csv-file-with-a-format-file) en alternative au format CSV. | Non. Utilisez [BULK INSERT](https://docs.microsoft.com/sql/t-sql/statements/bulk-insert-transact-sql#e-importing-data-from-a-csv-file) ou [OPENROWSET](https://docs.microsoft.com/sql/t-sql/functions/openrowset-transact-sql#g-accessing-data-from-a-csv-file-with-a-format-file) en alternative au format CSV. Suivez ces requêtes sur l’[élément de commentaires de SQL Managed Instance](https://feedback.azure.com/forums/915676-sql-managed-instance/suggestions/35657887-linked-server-to-non-sql-sources)|
| [Copie des journaux de transaction](https://docs.microsoft.com/sql/database-engine/log-shipping/about-log-shipping-sql-server) | La [haute disponibilité](high-availability-sla.md) est incluse dans chaque base de données. La reprise d’activité après sinistre est abordée dans [Vue d’ensemble de la continuité de l’activité](business-continuity-high-availability-disaster-recover-hadr-overview.md). | Intégré en mode natif dans le cadre du processus de migration du service de migration de données Azure. Non disponible en tant que solution de haute disponibilité, car d’autres méthodes de [haute disponibilité](high-availability-sla.md) sont incluses dans chaque base de données et il n’est pas recommandé d’utiliser l’envoi de journaux comme alternative à la haute disponibilité. La reprise d’activité après sinistre est abordée dans [Vue d’ensemble de la continuité de l’activité](business-continuity-high-availability-disaster-recover-hadr-overview.md). Non disponible en tant que mécanisme de réplication entre les bases de données – utiliser des réplicas secondaires sur le [niveau Critique pour l’entreprise](service-tier-business-critical.md), les [groupes de basculement automatique](auto-failover-group-overview.md) ou la [réplication transactionnelle](../managed-instance/replication-transactional-overview.md) comme alternative. |
| [Connexions et utilisateurs](https://docs.microsoft.com/sql/relational-databases/security/authentication-access/principals-database-engine) | Oui, mais les instructions de connexion `CREATE` et `ALTER` n’offrent pas toutes les options (aucune connexion Windows ou Azure Active Directory au niveau du serveur). `EXECUTE AS LOGIN` n'est pas pris en charge - privilégier `EXECUTE AS USER`.  | Oui, à quelques [différences](../managed-instance/transact-sql-tsql-differences-sql-server.md#logins-and-users) près. Les connexions Windows ne sont pas prises en charge et doivent être remplacées par des connexions Azure Active Directory. |
| [Journalisation minimale dans l’importation en bloc](https://docs.microsoft.com/sql/relational-databases/import-export/prerequisites-for-minimal-logging-in-bulk-import) | Non, seul le mode de récupération complète est pris en charge. | Non, seul le mode de récupération complète est pris en charge. |
| [Modification des données système](https://docs.microsoft.com/sql/relational-databases/databases/system-databases) | Non | Oui |
| [Automatisation OLE](https://docs.microsoft.com/sql/database-engine/configure-windows/ole-automation-procedures-server-configuration-option) | Non | Non |
| [OPENDATASOURCE](https://docs.microsoft.com/sql/t-sql/functions/opendatasource-transact-sql)|Non|Oui, uniquement pour SQL Database, SQL Managed Instance et SQL Server. Voir [Différences de T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md)|
| [OPENQUERY](https://docs.microsoft.com/sql/t-sql/functions/openquery-transact-sql)|Non|Oui, uniquement pour SQL Database, SQL Managed Instance et SQL Server. Voir [Différences de T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md)|
| [OPENROWSET](https://docs.microsoft.com/sql/t-sql/functions/openrowset-transact-sql)|Oui, uniquement pour importer à partir de Stockage Blob Azure. |Oui, uniquement pour SQL Database, SQL Managed Instance et SQL Server et pour importer à partir de Stockage Blob Azure. Voir [Différences de T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md)|
| [Opérateurs](https://docs.microsoft.com/sql/t-sql/language-elements/operators-transact-sql) | La plupart - voir Opérateurs individuels |Oui - voir [Différences de T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md) |
| [Polybase](https://docs.microsoft.com/sql/relational-databases/polybase/polybase-guide) | Non. Vous pouvez interroger les données des fichiers placés sur Azure Blob Storage à l’aide de la fonction `OPENROWSET`. | Non. Vous pouvez interroger les données des fichiers placés sur Azure Blob Storage à l’aide de la fonction `OPENROWSET`. |
| [Notifications de requête](https://docs.microsoft.com/sql/relational-databases/native-client/features/working-with-query-notifications) | Non | Oui |
| [Machine Learning Services](https://docs.microsoft.com/sql/advanced-analytics/what-is-sql-server-machine-learning)(_anciennement R Services_)| Oui, en [préversion publique](https://docs.microsoft.com/sql/advanced-analytics/what-s-new-in-sql-server-machine-learning-services)  | Non |
| [Modèles de récupération](https://docs.microsoft.com/sql/relational-databases/backup-restore/recovery-models-sql-server) | Seule la récupération complète qui garantit la haute disponibilité est prise en charge. Les modes de récupération simple et journalisée en bloc ne sont pas disponibles. | Seule la récupération complète qui garantit la haute disponibilité est prise en charge. Les modes de récupération simple et journalisée en bloc ne sont pas disponibles. |
| [Gouverneur de ressources](https://docs.microsoft.com/sql/relational-databases/resource-governor/resource-governor) | Non | Oui |
| [Instructions RESTORE](https://docs.microsoft.com/sql/t-sql/statements/restore-statements-for-restoring-recovering-and-managing-backups-transact-sql) | Non | Oui, avec options `FROM URL` obligatoires pour les fichiers de sauvegarde placés sur Stockage Blob Azure. Voir [Restaurer les différences](../managed-instance/transact-sql-tsql-differences-sql-server.md#restore-statement) |
| [Restauration de la base de données à partir de la sauvegarde](https://docs.microsoft.com/sql/relational-databases/backup-restore/back-up-and-restore-of-sql-server-databases#restore-data-backups) | À partir des sauvegardes automatisées uniquement - voir [Récupération de base de données SQL](recovery-using-backups.md) | À partir des sauvegardes automatisées - voir [Récupération de SQL Database](recovery-using-backups.md) et à partir des sauvegardes complètes placées dans Stockage Blob Azure - voir [Différences entres sauvegardes](../managed-instance/transact-sql-tsql-differences-sql-server.md#backup) |
| [Restaurer la base de données à SQL Server](https://docs.microsoft.com/sql/relational-databases/backup-restore/back-up-and-restore-of-sql-server-databases#restore-data-backups) | Non. Utilisez BACPAC ou BCP au lieu de la restauration native. | Non, car le moteur de base de données SQL Server utilisé dans SQL Managed Instance a une version supérieure à celle de la version RTM de SQL Server utilisée localement. Utilisez à la place BACPAC, BCP ou la réplication transactionnelle. |
| [Recherche sémantique](https://docs.microsoft.com/sql/relational-databases/search/semantic-search-sql-server) | Non | Non |
| [Service Broker](https://docs.microsoft.com/sql/database-engine/configure-windows/sql-server-service-broker) | Non | Oui, mais uniquement dans l’instance. Si vous utilisez des itinéraires Service Broker distants, essayez de consolider des bases de données de plusieurs instances SQL Server distribuées en une seule instance gérée SQL pendant la migration et utilisez uniquement des itinéraires locaux. Voir [Différences de Service Broker](../managed-instance/transact-sql-tsql-differences-sql-server.md#service-broker) |
| [Paramètres de configuration du serveur](https://docs.microsoft.com/sql/database-engine/configure-windows/server-configuration-options-sql-server) | Non | Oui - voir [Différences de T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md) |
| [Instructions SET](https://docs.microsoft.com/sql/t-sql/statements/set-statements-transact-sql) | La plupart - voir Instructions individuelles | Oui - voir [Différences de T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md)|
| [SQL Server Agent](https://docs.microsoft.com/sql/ssms/agent/sql-server-agent) | Non - voir [Travaux élastiques (préversion)](elastic-jobs-overview.md) | Oui - voir [Différences entre agents SQL Server](../managed-instance/transact-sql-tsql-differences-sql-server.md#sql-server-agent) |
| [Audit SQL Server](https://docs.microsoft.com/sql/relational-databases/security/auditing/sql-server-audit-database-engine) | Non - voir [Audit de base de données SQL](auditing-overview.md) | Oui - voir [Vérification des différences](../managed-instance/transact-sql-tsql-differences-sql-server.md#auditing) |
| [Fonctions stockées sur système](https://docs.microsoft.com/sql/relational-databases/system-functions/system-functions-for-transact-sql) | La plupart - voir Fonctions individuelles | Oui - voir [Procédures stockées, déclencheurs et fonctions définies par l’utilisateur](../managed-instance/transact-sql-tsql-differences-sql-server.md#stored-procedures-functions-and-triggers) |
| [Procédures stockées sur système](https://docs.microsoft.com/sql/relational-databases/system-stored-procedures/system-stored-procedures-transact-sql) | Certaines - voir Procédures stockées individuelles | Oui - voir [Procédures stockées, déclencheurs et fonctions définies par l’utilisateur](../managed-instance/transact-sql-tsql-differences-sql-server.md#stored-procedures-functions-and-triggers) |
| [Tables système](https://docs.microsoft.com/sql/relational-databases/system-tables/system-tables-transact-sql) | Certaines - voir Tables individuelles | Oui - voir [Différences de T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md) |
| [Vues catalogue système](https://docs.microsoft.com/sql/relational-databases/system-catalog-views/catalog-views-transact-sql) | Certaines - voir Vues individuelles | Oui - voir [Différences de T-SQL](../managed-instance/transact-sql-tsql-differences-sql-server.md) |
| [TempDB](https://docs.microsoft.com/sql/relational-databases/databases/tempdb-database) | Oui. [Taille de 32 Go par cœur pour chaque base de données](resource-limits-vcore-single-databases.md). | Oui. [Taille de 24 Go par vCore pour l’ensemble du niveau GP et limitée par la taille de l’instance sur le niveau BC](../managed-instance/resource-limits.md#service-tier-characteristics)  |
| [Tables temporaires](https://docs.microsoft.com/sql/t-sql/statements/create-table-transact-sql#database-scoped-global-temporary-tables-azure-sql-database) | Tables temporaires globales niveau base de données ou local | Tables temporaires globales locales et limitées à une instance |
| Choix du fuseau horaire | Non | [Oui](../managed-instance/timezones-overview.md), et il doit être configuré lors de la création de SQL Managed Instance. |
| [Indicateurs de trace](https://docs.microsoft.com/sql/t-sql/database-console-commands/dbcc-traceon-trace-flags-transact-sql) | Non | Oui, mais uniquement un ensemble limité d’indicateurs de trace globaux. Voir les [différences avec DBCC](../managed-instance/transact-sql-tsql-differences-sql-server.md#dbcc) |
| [Réplication transactionnelle](../managed-instance/replication-transactional-overview.md) | Oui, [Abonné à la réplication transactionnelle et de capture instantanée uniquement](migrate-to-database-from-sql-server.md) | Oui, en [préversion publique](https://docs.microsoft.com/sql/relational-databases/replication/replication-with-sql-database-managed-instance). Consultez les contraintes [ici](../managed-instance/transact-sql-tsql-differences-sql-server.md#replication). |
| [Chiffrement transparent des données (TDE)](https://docs.microsoft.com/sql/relational-databases/security/encryption/transparent-data-encryption-tde) | Oui - Niveaux de service Usage général et Critique pour l’entreprise uniquement| [Oui](transparent-data-encryption-tde-overview.md) |
| Authentification Windows | Non | Non |
| [Clustering de basculement Windows Server](https://docs.microsoft.com/sql/sql-server/failover-clusters/windows/windows-server-failover-clustering-wsfc-with-sql-server) | Non. Les autres techniques qui fournissent une [haute disponibilité](high-availability-sla.md) sont incluses dans chaque base de données. La reprise d’activité après sinistre est abordée dans [Vue d’ensemble de la continuité de l’activité avec Azure SQL Database](business-continuity-high-availability-disaster-recover-hadr-overview.md). | Non. Les autres techniques qui fournissent une [haute disponibilité](high-availability-sla.md) sont incluses dans chaque base de données. La reprise d’activité après sinistre est abordée dans [Vue d’ensemble de la continuité de l’activité avec Azure SQL Database](business-continuity-high-availability-disaster-recover-hadr-overview.md). |

## <a name="platform-capabilities"></a>Fonctionnalités de la plateforme

La plateforme Azure fournit un certain nombre de fonctionnalités PaaS qui sont ajoutées en tant que valeur supplémentaire aux fonctionnalités de base de données standard. Il existe un certain nombre de services externes qui peuvent être utilisés avec Azure SQL Database.

| **Fonctionnalités de la plateforme** | **Azure SQL Database** | **Azure SQL Managed Instance** |
| --- | --- | --- |
| [Géo-réplication active](active-geo-replication-overview.md) | Oui - tous les niveaux de service autres que hyperscale | Non, consultez [Groupes de basculement automatique](auto-failover-group-overview.md) en guise d’alternative |
| [Groupes de basculement automatique](auto-failover-group-overview.md) | Oui - tous les niveaux de service autres que hyperscale | Oui, voir [Groupes de basculement automatique](auto-failover-group-overview.md)|
| Mise à l’échelle automatique | Oui, mais uniquement dans un [modèle serverless](serverless-tier-overview.md). Dans le modèle avec serveur, le changement de niveau de service (modification de vCore, de stockage ou de DTU) est rapide et s’effectue en ligne. La modification du niveau de service ne nécessite qu’un temps d’arrêt minimal voire inexistant. | Non, vous devez choisir le calcul et le stockage réservés. La modification du niveau de service (vCore ou stockage maximal) s’effectue en ligne et ne nécessite qu’un temps d’arrêt minimal voire inexistant. |
| [Sauvegardes automatiques](automated-backups-overview.md) | Oui. Les sauvegardes complètes interviennent tous les 7 jours, les sauvegardes différentielles toutes les 12 heures et les sauvegardes des journaux toutes les 5 à 10 minutes. | Oui. Les sauvegardes complètes interviennent tous les 7 jours, les sauvegardes différentielles toutes les 12 heures et les sauvegardes des journaux toutes les 5 à 10 minutes. |
| [Réglage automatique (index)](https://docs.microsoft.com/sql/relational-databases/automatic-tuning/automatic-tuning)| [Oui](automatic-tuning-overview.md)| Non |
| [Zones de disponibilité](/azure/availability-zones/az-overview) | Oui | Non |
| [Azure Resource Health](/azure/service-health/resource-health-overview) | Oui | Non |
| Rétention des sauvegardes | Oui. 7 jours par défaut, maximum 35 jours. | Oui. 7 jours par défaut, maximum 35 jours. |
| [Service de migration de données (DMS)](https://docs.microsoft.com/sql/dma/dma-overview) | Oui | Oui |
| Accès au système de fichiers | Non. Utilisez [BULK INSERT](https://docs.microsoft.com/sql/t-sql/statements/bulk-insert-transact-sql#f-importing-data-from-a-file-in-azure-blob-storage) ou [OPENROWSET](https://docs.microsoft.com/sql/t-sql/functions/openrowset-transact-sql#i-accessing-data-from-a-file-stored-on-azure-blob-storage) pour accéder à des données et les charger à partir d'un Stockage Blob Azure en alternative. | Non. Utilisez [BULK INSERT](https://docs.microsoft.com/sql/t-sql/statements/bulk-insert-transact-sql#f-importing-data-from-a-file-in-azure-blob-storage) ou [OPENROWSET](https://docs.microsoft.com/sql/t-sql/functions/openrowset-transact-sql#i-accessing-data-from-a-file-stored-on-azure-blob-storage) pour accéder à des données et les charger à partir d'un Stockage Blob Azure en alternative. |
| [Géorestauration](recovery-using-backups.md#geo-restore) | Oui | Oui |
| [Architecture Hyperscale](service-tier-hyperscale.md) | Oui | Non |
| [Conservation de sauvegardes à long terme - LTR](long-term-retention-overview.md) | Oui, conserver les sauvegardes automatiques jusqu'à 10 ans. | Pas encore. Utilisez les `COPY_ONLY`[sauvegardes manuelles](../managed-instance/transact-sql-tsql-differences-sql-server.md#backup) en guise de solution de contournement temporaire. |
| Mettre en pause/reprendre | Oui, dans un [modèle serverless](serverless-tier-overview.md) | Non |
| [Gestion basée sur des stratégies](https://docs.microsoft.com/sql/relational-databases/policy-based-management/administer-servers-by-using-policy-based-management) | Non | Non |
| Adresse IP publique | Oui. L’accès peut être restreint à l’aide du pare-feu ou des points de terminaison du service.  | Oui. Doit être explicitement activée et le port 3342 doit être activé dans les règles de groupe de sécurité réseau. L'adresse IP publique peut être désactivée, si nécessaire. Voir [Point de terminaison public](../managed-instance/public-endpoint-overview.md) pour plus d’informations. |
| [Limite de restauration dans le temps d’une base de données](https://docs.microsoft.com/sql/relational-databases/backup-restore/restore-a-sql-server-database-to-a-point-in-time-full-recovery-model) | Oui - tous les niveaux de service autres que hyperscale - Voir [Récupération de SQL Database](recovery-using-backups.md#point-in-time-restore) | Oui - voir [Récupération de base de données SQL](recovery-using-backups.md#point-in-time-restore) |
| Pools de ressources | Oui, en tant que [pools élastiques](elastic-pool-overview.md) | Oui. Une seule instance de SQL Managed Instance peut avoir plusieurs bases de données qui partagent le même pool de ressources. En outre, vous pouvez déployer plusieurs instances de SQL Managed Instance dans des [pools d’instances (préversion)](../managed-instance/instance-pools-overview.md) qui peuvent partager les ressources. |
| Augmentation ou diminution d’échelle (en ligne) | Oui, vous pouvez modifier les DTU ou les vCores réservés ou le stockage maximal avec un temps d’arrêt minimal. | Oui, vous pouvez modifier les vCores réservés ou le stockage maximal avec un temps d’arrêt minimal. |
| [Alias SQL](https://docs.microsoft.com/sql/database-engine/configure-windows/create-or-delete-a-server-alias-for-use-by-a-client) | Non, utilisez un [Alias DNS](dns-alias-overview.md) | Non, utilisez [Clicongf](https://techcommunity.microsoft.com/t5/Azure-Database-Support-Blog/Lesson-Learned-33-How-to-make-quot-cliconfg-quot-to-work-with/ba-p/369022) pour configurer un alias sur les machines clientes. |
| [SQL Analytics](https://docs.microsoft.com/azure/azure-monitor/insights/azure-sql) | Oui | Oui |
| [Synchronisation des données SQL](sql-data-sync-sql-server-configure.md) | Oui | Non |
| [SQL Server Analysis Services (SSAS)](https://docs.microsoft.com/sql/analysis-services/analysis-services) | Non, [Azure Analysis Services](https://azure.microsoft.com/services/analysis-services/) est un service cloud Azure distinct. | Non, [Azure Analysis Services](https://azure.microsoft.com/services/analysis-services/) est un service cloud Azure distinct. |
| [SQL Server Integration Services (SSIS)](https://docs.microsoft.com/sql/integration-services/sql-server-integration-services) | Oui, avec les services SSIS managés dans un environnement Azure Data Factory (ADF), dans lequel les packages sont stockés dans la base de données SSISDB hébergée par Azure SQL Database et exécutée sur Azure SSIS IR (Integration Runtime). Consultez [Créer Azure-SSIS IR dans ADF](https://docs.microsoft.com/azure/data-factory/create-azure-ssis-integration-runtime). <br/><br/>Pour comparer les fonctionnalités SSIS dans SQL Database et SQL Managed Instance, consultez [Comparer SQL Database et SQL Managed Instance](../../data-factory/create-azure-ssis-integration-runtime.md#comparison-of-sql-database-and-sql-managed-instance). | Oui, avec les services SSIS managés dans un environnement Azure Data Factory (ADF), dans lequel les packages sont stockés dans la base de données SSISDB hébergée par SQL Managed Instance et exécutée sur Azure SSIS IR (Integration Runtime). Consultez [Créer Azure-SSIS IR dans ADF](https://docs.microsoft.com/azure/data-factory/create-azure-ssis-integration-runtime). <br/><br/>Pour comparer les fonctionnalités SSIS dans SQL Database et SQL Managed Instance, consultez [Comparer SQL Database et SQL Managed Instance](../../data-factory/create-azure-ssis-integration-runtime.md#comparison-of-sql-database-and-sql-managed-instance). |
| [SQL Server Reporting Services (SSRS)](https://docs.microsoft.com/sql/reporting-services/create-deploy-and-manage-mobile-and-paginated-reports) | Non - [voir Power BI](https://docs.microsoft.com/power-bi/) | Non : utilisez les [Rapports paginés Power BI](https://docs.microsoft.com/power-bi/paginated-reports/paginated-reports-report-builder-power-bi) à la place ou hébergez SSRS sur une machine virtuelle Azure. Même si SQL Managed Instance ne peut pas exécuter SSRS en tant que service, il peut héberger des [bases de données de catalogue SSRS](https://docs.microsoft.com/sql/reporting-services/install-windows/ssrs-report-server-create-a-report-server-database#database-server-version-requirements) pour un serveur de rapports installé sur une machine virtuelle Azure à l’aide de l’authentification SQL Server. |
| [Query Performance Insights (QPI)](query-performance-insight-use.md) | Oui | Non. Utilisez des rapports intégrés dans SQL Server Management Studio et Azure Data Studio. |
| [Réseau virtuel](../../virtual-network/virtual-networks-overview.md) | Partielle, elle permet un accès restreint à l’aide de [points de terminaison VNet](vnet-service-endpoint-rule-overview.md) | Oui, SQL Managed Instance est injecté dans le réseau virtuel du client. Voir le [sous-réseau](../managed-instance/transact-sql-tsql-differences-sql-server.md#subnet) et le [réseau virtuel](../managed-instance/transact-sql-tsql-differences-sql-server.md#vnet) |
| Point de terminaison de service de réseau virtuel | [Oui](vnet-service-endpoint-rule-overview.md) | Non |
| Peering mondial de réseau virtuel | Oui, en utilisant [une adresse IP et des points de terminaison de service privés](vnet-service-endpoint-rule-overview.md) | Non, [SQL Managed Instance n’est pas pris en charge](../../virtual-network/virtual-networks-faq.md#what-are-the-constraints-related-to-global-vnet-peering-and-load-balancers) en raison d’une [contrainte d’équilibreur de charge dans le peering mondial de réseau virtuel ](../../virtual-network/virtual-network-manage-peering.md#requirements-and-constraints).

## <a name="tools"></a>Outils

Azure SQL Database et Azure SQL Managed Instance prennent en charge différents outils de données qui peuvent vous aider à gérer vos données.

| **Outil** | **Azure SQL Database** | **Azure SQL Managed Instance** |
| --- | --- | --- |
| Portail Azure | Oui | Oui |
| Azure CLI | Oui | Oui|
| [Azure Data Studio](https://docs.microsoft.com/sql/azure-data-studio/what-is) | Oui | Oui |
| Azure PowerShell | Oui | Oui |
| [Fichier BACPAC (exporter)](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/export-a-data-tier-application) | Oui - voir [Exportation de base de données SQL](database-export.md) | Oui, voir [Exporter SQL Managed Instance](database-export.md) |
| [Fichier BACPAC (importer)](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/import-a-bacpac-file-to-create-a-new-user-database) | Oui - voir [Importation de base de données SQL](database-import.md) | Oui, voir [Importer SQL Managed Instance](database-import.md) |
| [Data Quality Services (DQS)](https://docs.microsoft.com/sql/data-quality-services/data-quality-services) | Non | Non |
| [Master Data Services (MDS)](https://docs.microsoft.com/sql/master-data-services/master-data-services-overview-mds) | Non | Non |
| [SMO](https://docs.microsoft.com/sql/relational-databases/server-management-objects-smo/sql-server-management-objects-smo-programming-guide) | [Oui](https://www.nuget.org/packages/Microsoft.SqlServer.SqlManagementObjects) | Oui [version 150](https://www.nuget.org/packages/Microsoft.SqlServer.SqlManagementObjects) |
| [Outils SQL Server Data Tools (SSDT)](https://docs.microsoft.com/sql/ssdt/download-sql-server-data-tools-ssdt) | Oui | Oui |
| [SQL Server Management Studio (SSMS)](https://docs.microsoft.com/sql/ssms/download-sql-server-management-studio-ssms) | Oui | Oui [version 18.0 ou ultérieure](https://docs.microsoft.com/sql/ssms/download-sql-server-management-studio-ssms) |
| [SQL Server PowerShell](https://docs.microsoft.com/sql/relational-databases/scripting/sql-server-powershell) | Oui | Oui |
| [SQL Server Profiler](https://docs.microsoft.com/sql/tools/sql-server-profiler/sql-server-profiler) | Non - voir [Événements étendus](xevent-db-diff-from-svr.md) | Oui |
| [System Center Operations Manager (SCOM)](https://docs.microsoft.com/system-center/scom/welcome) | [Oui](https://www.microsoft.com/download/details.aspx?id=38829) | Oui, [en préversion](https://www.microsoft.com/download/details.aspx?id=38829) |

## <a name="migration-methods"></a>Méthodes de migration

Vous pouvez utiliser différentes méthodes de migration pour déplacer vos données entre SQL Server, Azure SQL Database et Azure SQL Managed Instance. Les méthodes **en ligne** détectent toutes les modifications apportées à la source pendant la migration. Avec les méthodes **hors connexion**, lorsque que la migration est en cours, vous devez arrêter la charge de travail qui modifie les données de la source.

| **Source** | **Azure SQL Database** | **Azure SQL Managed Instance** |
| --- | --- | --- |
| SQL Server (local, Azure VM, Amazon RDS) | **En ligne :** [Data Migration Service (DMS)](https://docs.microsoft.com/sql/dma/dma-overview), [Réplication transactionnelle](../managed-instance/replication-transactional-overview.md) <br/> **Hors connexion :** [Fichier BACPAC (importer)](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/import-a-bacpac-file-to-create-a-new-user-database), BCP | **En ligne :** [Data Migration Service (DMS)](https://docs.microsoft.com/sql/dma/dma-overview), [Réplication transactionnelle](../managed-instance/replication-transactional-overview.md) <br/> **Hors connexion :** Sauvegarde et restauration natives, [Fichier BACPAC (importer)](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/import-a-bacpac-file-to-create-a-new-user-database), BCP, [Réplication de capture instantanée](../managed-instance/replication-transactional-overview.md) |
| Base de données unique | **Hors connexion :** [Fichier BACPAC (importer)](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/import-a-bacpac-file-to-create-a-new-user-database), BCP | **Hors connexion :** [Fichier BACPAC (importer)](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/import-a-bacpac-file-to-create-a-new-user-database), BCP |
| Instance managée SQL | **En ligne :** [Réplication transactionnelle](../managed-instance/replication-transactional-overview.md) <br/> **Hors connexion :** [Fichier BACPAC (importer)](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/import-a-bacpac-file-to-create-a-new-user-database), BCP, [Réplication de capture instantanée](../managed-instance/replication-transactional-overview.md) | **En ligne :** [Réplication transactionnelle](../managed-instance/replication-transactional-overview.md) <br/> **Hors connexion :** Restauration de points dans le temps entre instances ([Azure PowerShell](https://docs.microsoft.com/powershell/module/az.sql/restore-azsqlinstancedatabase?#examples) ou [Azure CLI](https://techcommunity.microsoft.com/t5/Azure-SQL-Database/Cross-instance-point-in-time-restore-in-Azure-SQL-Database/ba-p/386208)), [Sauvegarde/Restauration natives](https://docs.microsoft.com/azure/sql-database/sql-database-managed-instance-get-started-restore), [Fichier BACPAC (importer)](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/import-a-bacpac-file-to-create-a-new-user-database), BCP, [Réplication de capture instantanée](../managed-instance/replication-transactional-overview.md) |

## <a name="next-steps"></a>Étapes suivantes

Microsoft continue d’ajouter des fonctionnalités à Azure SQL Database. Visitez la page web de mises à jour de service pour Azure afin d’obtenir les dernières mises à jour avec ces filtres :

- Filtrez sur [Azure SQL Database](https://azure.microsoft.com/updates/?service=sql-database).
- Filtrez sur [annonces](https://azure.microsoft.com/updates/?service=sql-database&update-type=general-availability) de disponibilité générale pour les fonctionnalités SQL Database.

Pour plus d’informations sur Azure SQL Database et Azure SQL Managed Instance, consultez :

- [Qu’est-ce qu’Azure SQL Database ?](sql-database-paas-overview.md)
- [Qu’est-ce qu’Azure SQL Managed Instance ?](../managed-instance/sql-managed-instance-paas-overview.md)
- [Qu’est-ce qu’un pool Azure SQL Managed Instance ?](../managed-instance/instance-pools-overview.md)
